var Async=function(t){"use strict";return{loadPartialViews:function(){t(".partial-view").each(function(o,e){var i=t(e).data("url");if(i&&i.length>0){var n="";"always"===t(e).data("reload")&&(n="?time="+(new Date).getTime()),t(e).load(i+n)}})}}}(jQuery),Common=function(t){"use strict";return{getCookie:function(t){var o=("; "+document.cookie).split("; "+t+"=");if(2==o.length)return o.pop().split(";").shift()}}}(jQuery),LoadMore=function(t){"use strict";var o={loadButton:"#button-load-more",links:"#area-load-more a",appendItemsArea:"#area-load-more",url:"",totalItemsCount:0,loadedItemsCount:0,paggingParam:"page",debug:0},e={},i=function(i,n){this.settings=t.extend(o,i),this.urlParams=t.extend(e,n)};return i.prototype.init=function(){this._logInfo("LoadMore module - init()");var o=this;this._setButtonVisibility(),t(this.settings.loadButton).on("click",function(t){o._loadMore()}),t("body").on("click",this.settings.links,function(t){o._onClickLink()})},i.prototype._onClickLink=function(){var t=location.protocol+"//"+location.host+location.pathname+this._createUrlParams(this.urlParams);window.history.pushState({path:t},"",t)},i.prototype._createUrlParams=function(t){var o="";for(var e in t)""!=o&&(o+="&"),t[e]&&(o+=e+"="+encodeURIComponent(t[e]));return o.length>1&&(o="?"+o),o},i.prototype._logInfo=function(t){this.settings.debug&&console.log(t)},i.prototype._beforeLoadMore=function(){this._logInfo("LoadMore module - beforeLoadMore()"),this._toggleSpinnerVisibility()},i.prototype._loadMore=function(){this._logInfo("LoadMore module - loadMore()");var o=this;this._beforeLoadMore(),this.urlParams[this.settings.paggingParam]++,this._logInfo("LoadMore module - loading new items from server"),t.ajax({method:"GET",url:this.settings.url,data:this.urlParams}).done(function(t){o._loadMoreSuccess(t)}).fail(function(){this._logInfo("LoadMore module - error occured when loading new items from server.")}).always(function(){o._toggleSpinnerVisibility()})},i.prototype._loadMoreSuccess=function(o){this._logInfo("LoadMore module - loadMoreSuccess()"),t(o.data).appendTo(this.settings.appendItemsArea),this.settings.loadedItemsCount+=o.count,this._setButtonVisibility()},i.prototype._toggleSpinnerVisibility=function(){this._logInfo("LoadMore module - toggleSpinnerVisibility()");var o=t(this.settings.loadButton);o.find(".fa").toggle(),o.find("span").toggle()},i.prototype._setButtonVisibility=function(){this._logInfo("LoadMore module - setButtonVisibility()");var o=t(this.settings.loadButton);this.settings.loadedItemsCount>=this.settings.totalItemsCount?o.hide():o.show()},i}(jQuery);
//# sourceMappingURL=appJs.min.js.map